# üìÅ API —Å–µ—Ä–≤–∏—Å –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–∏–¥–µ–æ)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç REST API –Ω–∞ FastAPI –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, —É–º–µ–Ω—å—à–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ, –∞ —Ç–∞–∫–∂–µ –∏—Ö —É–¥–∞–ª–µ–Ω–∏—è. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ –º–∏–Ω–∏–∞—Ç—é—Ä –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ (`PUT /api/upload`)
- üîé –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ UUID (`GET /api/{uuid}`)
- üñº –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω–∏–∞—Ç—é—Ä –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ (`GET /api/{uuid}?width=100&height=100`)
- üóë –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ (`DELETE /api/{uuid}`)
- üß™ –ü–æ–∫—Ä—ã—Ç–∏–µ API —Ç–µ—Å—Ç–∞–º–∏ (`PyTest`)

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:

```bash
git clone https://github.com/yourusername/yourrepo.git
cd yourrepo
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

> ‚ùó –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É —Ç–µ–±—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.8+

### 3. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:

```bash
uvicorn main:app --reload
```

–¢–µ–ø–µ—Ä—å API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: [http://127.0.0.1:8000](http://127.0.0.1:8000)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤:

```bash
pytest
```

---

## üì¶ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

### üì§ `PUT /api/upload`

–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –≤–∏–¥–µ–æ.

- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞**: `file` (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –≤–∏–¥–µ–æ)
- **–û—Ç–≤–µ—Ç**:
```json
{
  "uuid": "uuid-—Ñ–∞–π–ª–∞",
  "filename": "–∏–º—è_—Ñ–∞–π–ª–∞.jpg",
  "size": 123456,
  "type": "image/video",
  "mime_type": "image/jpeg"
}
```

---

### üì• `GET /api/{uuid}`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ UUID.  
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –º–∏–Ω–∏–∞—Ç—é—Ä—ã (thumbnail):

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞** (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):

- `width` ‚Äî —à–∏—Ä–∏–Ω–∞
- `height` ‚Äî –≤—ã—Å–æ—Ç–∞

---

### üóë `DELETE /api/{uuid}`

–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ UUID.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ main.py             # –û—Å–Ω–æ–≤–Ω–æ–π API
‚îú‚îÄ‚îÄ test_api.py         # PyTest —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ uploads/            # –ö–∞—Ç–∞–ª–æ–≥ —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üìã –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- FastAPI
- Uvicorn
- Pillow (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- OpenCV (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ)
- filetype (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ MIME-—Ç–∏–ø–æ–≤)
- pytest (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑:

```bash
pip install fastapi uvicorn pillow opencv-python filetype pytest
```

---

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `uploads/`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–∏–¥–µ–æ (`image/*`, `video/*`)
- –î–ª—è –≤–∏–¥–µ–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –∫–∞–¥—Ä–∞
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `width` –∏ `height` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —É–º–µ–Ω—å—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
